<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>CuddleBear Shop</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>

    <div class="container mt-5">
        <h2 class="text-center mb-4">🧸 Danh sách gấu bông</h2>
        <div class="row" id="productList"></div>
    </div>

    <script>
        const API_URL = "https://localhost:7131/api/products"; // 🔴 ĐỔI PORT

        fetch(API_URL)
            .then(res => {
                if (!res.ok) throw new Error("Không gọi được API");
                return res.json();
            })
            .then(data => {
                const list = document.getElementById("productList");

                if (data.length === 0) {
                    list.innerHTML = "<p class='text-center'>Chưa có sản phẩm</p>";
                    return;
                }

                data.forEach(p => {
                    list.innerHTML += `
                        <div class="col-md-3 mb-4">
                            <div class="card h-100">
                                <img src="${p.imageUrl || 'https://via.placeholder.com/300'}"
                                     class="card-img-top"
                                     style="height:200px;object-fit:cover">
                                <div class="card-body text-center">
                                    <h5>${p.name}</h5>
                                    <p class="text-danger fw-bold">
                                        ${p.price.toLocaleString()} ₫
                                    </p>
                                </div>
                            </div>
                        </div>
                    `;
                });
            })
            .catch(err => {
                document.getElementById("productList").innerHTML =
                    "<p class='text-danger text-center'>Không kết nối được API</p>";
                console.error(err);
            });
    </script>

</body>
</html>
